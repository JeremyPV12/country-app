import{A as y,B as C,C as E,D as ne,E as ie,F as oe,G as B,H as a,I as u,K as k,L as M,M as F,N as L,P as re,Q as R,R as V,S as ae,W as ce,Y as le,Z as se,a as G,b as z,c as W,d as J,e as X,f as Y,g as h,h as Z,i as ee,j as D,k as P,l as te,m as K,n as N,o as c,p as d,q as p,r as S,s,t as I,u as _,v as w,w as i,x as o,y as l,z as O}from"./chunk-6ZAP2WEZ.js";var me=["txt"],T=class n{debouncer=new G;debouncerSuscription;tagInput;placeHolder;valuerecibe="";valueSearchBox=new K;onDebounce=new K;ngOnInit(){this.debouncerSuscription=this.debouncer.pipe(X(1e3)).subscribe(t=>{this.onDebounce.emit(t)})}ngOnDestroy(){this.debouncerSuscription?.unsubscribe()}sengTerm(){let t=this.tagInput.nativeElement.value;this.valueSearchBox.emit(t),this.tagInput.nativeElement.value=""}onKeyPress(t){this.debouncer.next(t)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["shared-search-box"]],viewQuery:function(e,r){if(e&1&&ne(me,5),e&2){let m;ie(m=oe())&&(r.tagInput=m.first)}},inputs:{placeHolder:"placeHolder",valuerecibe:"valuerecibe"},outputs:{valueSearchBox:"valueSearchBox",onDebounce:"onDebounce"},decls:6,vars:2,consts:[["txt",""],[1,"relative","block","group"],[1,"sr-only"],[1,"fa-solid","fa-magnifying-glass","absolute","inset-y-0","left-0","flex","items-center","pl-3","pr-3","group-focus-within:bg-blue-500","rounded-l-xl","group-focus-within:text-white","text-slate-700"],["type","text",1,"w-full","focus:outline-none","pl-12","italic","focus:not-italic","text-base","border","shadow-xl","focus:border-2","pr-4","focus:border-blue-300","py-2","rounded-xl",3,"keyup","value","placeholder"]],template:function(e,r){if(e&1){let m=O();i(0,"label",1)(1,"span",2),a(2,"Search"),o(),l(3,"i",3),i(4,"input",4,0),y("keyup",function(){D(m);let pe=B(5);return P(r.onKeyPress(pe.value))}),o()()}e&2&&(c(4),E("placeholder",r.placeHolder),s("value",r.valuerecibe))},encapsulation:2})};var A=class n{constructor(){}ngOnInit(){}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["countries-alert-nobody"]],decls:3,vars:0,consts:[[1,"mt-10","w-full","h-auto","bg-red-200","border-red-400","ring-1","ring-red-400","shadow-xl","border-2","rounded-xl","px-4","py-3"],[1,"text-red-800","text-2xl","text-center"]],template:function(e,r){e&1&&(i(0,"section",0)(1,"h3",1),a(2,"There aren't countries to show"),o()())},encapsulation:2})};var ue=n=>["/countries/by",n];function de(n,t){n&1&&l(0,"countries-alert-nobody")}function fe(n,t){if(n&1&&(i(0,"tr",6)(1,"td"),a(2),o(),i(3,"td",7)(4,"picture",8),l(5,"img",9),o()(),i(6,"td",8),a(7),o(),i(8,"td"),a(9),o(),i(10,"td"),a(11),M(12,"number"),o(),i(13,"td")(14,"h4",10),a(15,"See more"),o()()()),n&2){let e=t.$implicit,r=t.$index;c(2),u(r+1),c(3),E("src",e.flags.png,N),c(2),u(e.flag),c(2),u(e.capital),c(2),u(F(12,6,e.population)),c(3),s("routerLink",k(8,ue,e.capital[0]))}}function ye(n,t){if(n&1&&(i(0,"table",2)(1,"thead")(2,"tr",3)(3,"th",4),a(4,"N\xBA"),o(),i(5,"th"),a(6,"Icon"),o(),i(7,"th"),a(8,"Flag"),o(),i(9,"th"),a(10,"Name"),o(),i(11,"th"),a(12,"Population"),o(),i(13,"th",5),a(14,"#"),o()()(),i(15,"tbody"),_(16,fe,16,10,"tr",6,I),o()()),n&2){let e=C();c(16),w(e.countries)}}var b=class n{countries=[];static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["countries-capital-table"]],inputs:{countries:"countries"},decls:3,vars:2,consts:[["table",""],[4,"ngIf","ngIfElse"],[1,"w-full","table-auto"],[1,"*:text-start","*:bg-slate-300","*:text-white","*:px-2","*:py-3","*:font-semibold","text-xl"],[1,"rounded-l-xl"],[1,"rounded-r-xl"],[1,"*:font-medium","text-lg"],[1,"w-20"],[1,""],["alt","",1,"size-10","rounded-full",3,"src"],[1,"text-cyan-300","underline","cursor-pointer","hover:text-cyan-800",3,"routerLink"]],template:function(e,r){if(e&1&&S(0,de,1,0,"countries-alert-nobody",1)(1,ye,18,0,"ng-template",null,0,L),e&2){let m=B(2);s("ngIf",r.countries.length===0)("ngIfElse",m)}},dependencies:[R,V,A,se],encapsulation:2})};var $=class n{constructor(){}ngOnInit(){}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["shared-loading"]],decls:15,vars:0,consts:[[1,"fixed","bottom-4","right-4","text-white","py-4","px-8","rounded-2xl","flex","items-center","bg-black","shadow-xl"],[1,"text-white"],["width","30","height","30","viewBox","0 0 45 45","xmlns","http://www.w3.org/2000/svg","stroke","#fff"],["fill","none","fill-rule","evenodd","transform","translate(1 1)","stroke-width","2"],["cx","22","cy","22","r","6","stroke-opacity","0"],["attributeName","r","begin","1.5s","dur","3s","values","6;22","calcMode","linear","repeatCount","indefinite"],["attributeName","stroke-opacity","begin","1.5s","dur","3s","values","1;0","calcMode","linear","repeatCount","indefinite"],["attributeName","stroke-width","begin","1.5s","dur","3s","values","2;0","calcMode","linear","repeatCount","indefinite"],["attributeName","r","begin","3s","dur","3s","values","6;22","calcMode","linear","repeatCount","indefinite"],["attributeName","stroke-opacity","begin","3s","dur","3s","values","1;0","calcMode","linear","repeatCount","indefinite"],["attributeName","stroke-width","begin","3s","dur","3s","values","2;0","calcMode","linear","repeatCount","indefinite"],["cx","22","cy","22","r","8"],["attributeName","r","begin","0s","dur","1.5s","values","6;1;2;3;4;5;6","calcMode","linear","repeatCount","indefinite"]],template:function(e,r){e&1&&(i(0,"div",0)(1,"span",1),a(2,"Searching"),o(),te(),i(3,"svg",2)(4,"g",3)(5,"circle",4),l(6,"animate",5)(7,"animate",6)(8,"animate",7),o(),i(9,"circle",4),l(10,"animate",8)(11,"animate",9)(12,"animate",10),o(),i(13,"circle",11),l(14,"animate",12),o()()()())},encapsulation:2})};var f=class n{constructor(t){this.http=t;this.loadFromLocalStorage()}apiUrl="https://restcountries.com/v3.1/";cacheStore={byCapital:{term:"",countries:[]},byCountries:{term:"",countries:[]},byRegion:{region:"",countries:[]}};saveToLocalStorage(){localStorage.setItem("cacheStore",JSON.stringify(this.cacheStore))}loadFromLocalStorage(){localStorage.getItem("cacheStore")&&(this.cacheStore=JSON.parse(localStorage.getItem("cacheStore")))}getCountriesReques(t){return this.http.get(t).pipe(J(()=>z([])))}searchContryByAlphaCode(t){return this.http.get(`${this.apiUrl}capital/${t}`).pipe(W(e=>e.length>0?e[0]:null),J(()=>z(null)))}searchCapital(t){let e=`${this.apiUrl}capital/${t}`;return this.getCountriesReques(e).pipe(h(r=>this.cacheStore.byCapital={term:t,countries:r}),h(()=>this.saveToLocalStorage()))}searchCountry(t){let e=`${this.apiUrl}name/${t}?fulltex=true`;return this.getCountriesReques(e).pipe(h(r=>this.cacheStore.byCountries={term:t,countries:r}),h(()=>this.saveToLocalStorage()))}searchRegion(t){let e=`${this.apiUrl}region/${t}`;return this.getCountriesReques(e).pipe(h(r=>this.cacheStore.byRegion={region:t,countries:r}),h(()=>this.saveToLocalStorage()))}static \u0275fac=function(e){return new(e||n)(ee(ae))};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})};function ge(n,t){n&1&&l(0,"shared-loading")}var H=class n{constructor(t){this.countryService=t}countries=[];isLoading=!1;dynamicValue="";ngOnInit(){this.countries=this.countryService.cacheStore.byCapital.countries,this.dynamicValue=this.countryService.cacheStore.byCapital.term}searchByCapital(t){this.isLoading=!0,this.countryService.searchCapital(t).subscribe({next:e=>{this.countries=e,this.isLoading=!1}})}static \u0275fac=function(e){return new(e||n)(d(f))};static \u0275cmp=p({type:n,selectors:[["countries-by-capital-page"]],decls:8,vars:4,consts:[[1,"w-full","space-y-6"],[1,"text-2xl","font-semibold","text-slate-800","border-blue-300","border-b-2","pb-3"],[3,"onDebounce","valuerecibe","placeHolder"],[4,"ngIf"],[3,"countries"]],template:function(e,r){e&1&&(i(0,"article",0)(1,"h1",1),a(2,"By Capital"),o(),i(3,"section")(4,"shared-search-box",2),y("onDebounce",function(x){return r.searchByCapital(x)}),o()(),i(5,"section"),S(6,ge,1,0,"shared-loading",3),l(7,"countries-capital-table",4),o()()),e&2&&(c(4),s("valuerecibe",r.dynamicValue)("placeHolder","Search capitals ..."),c(2),s("ngIf",r.isLoading),c(),s("countries",r.countries))},dependencies:[T,b,$,R],encapsulation:2})};var U=class n{constructor(t){this.countryService=t}countries=[];dynamicValue="";ngOnInit(){this.countries=this.countryService.cacheStore.byCountries.countries,this.dynamicValue=this.countryService.cacheStore.byCountries.term,console.log(this.countries=this.countryService.cacheStore.byCountries.countries,this.dynamicValue=this.countryService.cacheStore.byCountries.term)}searchByCountry(t){this.countryService.searchCountry(t).subscribe({next:e=>this.countries=e})}static \u0275fac=function(e){return new(e||n)(d(f))};static \u0275cmp=p({type:n,selectors:[["countries-by-country-page"]],decls:7,vars:3,consts:[[1,"w-full","space-y-6"],[1,"text-2xl","font-semibold","text-slate-800","border-blue-300","border-b-2","pb-3"],[3,"onDebounce","valuerecibe","placeHolder"],[3,"countries"]],template:function(e,r){e&1&&(i(0,"article",0)(1,"h1",1),a(2,"By Country"),o(),i(3,"section")(4,"shared-search-box",2),y("onDebounce",function(x){return r.searchByCountry(x)}),o()(),i(5,"section"),l(6,"countries-capital-table",3),o()()),e&2&&(c(4),s("valuerecibe",r.dynamicValue)("placeHolder","Search capitals ..."),c(2),s("countries",r.countries))},dependencies:[T,b],encapsulation:2})};var be=n=>({"bg-sky-100":n});function he(n,t){if(n&1){let e=O();i(0,"li",5),y("click",function(){let m=D(e).$implicit,x=C();return P(x.searchByRegion(m))}),a(1),o()}if(n&2){let e=t.$implicit,r=C();s("ngClass",k(2,be,r.selectedRegion==e)),c(),u(e)}}var q=class n{constructor(t){this.countryService=t}countries=[];regions=["Africa","Americas","Asia","Europe","Oceania"];selectedRegion;ngOnInit(){this.countries=this.countryService.cacheStore.byRegion.countries,this.selectedRegion=this.countryService.cacheStore.byRegion.region}searchByRegion(t){this.selectedRegion=t,this.countryService.searchRegion(t).subscribe({next:e=>this.countries=e})}static \u0275fac=function(e){return new(e||n)(d(f))};static \u0275cmp=p({type:n,selectors:[["countries-by-region-page"]],decls:9,vars:1,consts:[[1,"w-full","space-y-6"],[1,"text-2xl","font-semibold","text-slate-800","border-blue-300","border-b-2","pb-3"],[1,"flex","justify-between"],[1,"border-2","border-sky-300","hover:bg-sky-200","cursor-pointer","px-5","py-2","rounded-xl",3,"ngClass"],[3,"countries"],[1,"border-2","border-sky-300","hover:bg-sky-200","cursor-pointer","px-5","py-2","rounded-xl",3,"click","ngClass"]],template:function(e,r){e&1&&(i(0,"article",0)(1,"h1",1),a(2,"By Region"),o(),i(3,"section")(4,"ul",2),_(5,he,2,4,"li",3,I),o()(),i(7,"section"),l(8,"countries-capital-table",4),o()()),e&2&&(c(5),w(r.regions),c(3),s("countries",r.countries))},dependencies:[b,re],encapsulation:2})};function Ce(n,t){n&1&&(i(0,"div",2)(1,"h3"),a(2,"Loading"),o(),l(3,"i",3),o())}function ve(n,t){if(n&1&&(i(0,"li",19),a(1),o()),n&2){let e=t.$implicit;c(),u(e.common)}}function xe(n,t){if(n&1&&(i(0,"div")(1,"section",4)(2,"div",5)(3,"h3",6),a(4,"Country :"),i(5,"strong"),a(6),o()()(),i(7,"div",7)(8,"div",8)(9,"h4",9),a(10,"Flag"),o(),i(11,"picture",10),l(12,"img",11),o()(),i(13,"div",12)(14,"h4",13),a(15," Information"),o(),i(16,"ul",14)(17,"li",15),a(18,"Population :"),i(19,"strong"),a(20),M(21,"number"),o()(),i(22,"li",16),a(23,"Code :"),i(24,"strong"),a(25),o()()()(),i(26,"div",17)(27,"h4",13),a(28,"Translates"),o(),i(29,"ol",18),_(30,ve,2,1,"li",19,I),o()()()()()),n&2){let e=C();c(6),u(e.country.name.common),c(6),E("src",e.country.flags.png,N),c(8),u(F(21,4,e.country.population)),c(5),u(e.country.cca2),c(5),w(e.nosenada)}}var Q=class n{constructor(t,e,r){this.activateRoute=t;this.countriesService=e;this.router=r}country;nosenada=[];ngOnInit(){this.activateRoute.params.pipe(Y(({id:t})=>this.countriesService.searchContryByAlphaCode(t))).subscribe(t=>t?(this.nosenada=Object.entries(t.translations).map(([e,r])=>({lang:e,official:r.official,common:r.common})),this.country=t):this.router.navigateByUrl(""))}static \u0275fac=function(e){return new(e||n)(d(ce),d(f),d(le))};static \u0275cmp=p({type:n,selectors:[["countries-country-page"]],decls:3,vars:2,consts:[["loading",""],[4,"ngIf","ngIfElse"],[1,"flex","space-x-4"],[1,"fa-solid","fa-spinner","fa-xl","animate-spin"],[1,"flex","flex-col"],[1,"border-b-2","py-2"],[1,"text-3xl"],[1,"flex","flex-wrap","py-8","gap-10"],[1,"w-1/3"],[1,"text-2xl","py-3","font-semibold"],[1,""],["alt","",3,"src"],[1,"w-[30rem]"],[1,"text-2xl","font-semibold","py-3"],[1,"*:border","*:px-3","*:py-2"],[1,"rounded-t-xl"],[1,"rounded-b-xl"],[1,"w-full"],[1,"flex","flex-wrap","gap-3"],[1,"bg-blue-500","rounded-lg","p-1","text-white","font-semibold"]],template:function(e,r){if(e&1&&S(0,Ce,4,0,"ng-template",null,0,L)(2,xe,32,6,"div",1),e&2){let m=B(1);c(2),s("ngIf",r.country)("ngIfElse",m)}},dependencies:[R,V],encapsulation:2})};var lt=[{path:"by-capital",component:H},{path:"by-country",component:U},{path:"by-region",component:q},{path:"by/:id",component:Q},{path:"**",redirectTo:"by-capital"}];export{lt as default};
